
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Practica-01/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>Práctica 08 - IAW Jose</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CMontserrat:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Montserrat"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-03-iaw" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="IAW Jose" class="md-header__button md-logo" aria-label="IAW Jose" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IAW Jose
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Práctica 08
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IAW Jose" class="md-nav__button md-logo" aria-label="IAW Jose" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    IAW Jose
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Principal
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acerca de
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Practica-01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Práctica 01
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Práctica 08
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Práctica 08
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#para-esta-practica-vamos-a-crear-una-instancia-de-ubuntu-pulsamos-en-lanzar-instancia-y-seleccionamos-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Para esta práctica vamos a crear una instancia de ubuntu, pulsamos en lanzar instancia y seleccionamos ubuntu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-ponemos-de-tamano-small-la-maquina" class="md-nav__link">
    <span class="md-ellipsis">
      Le ponemos de tamaño small la máquina.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-permitimos-el-trafico-http-y-https-para-que-nos-anada-los-puertos-de-seguridad-directamente" class="md-nav__link">
    <span class="md-ellipsis">
      Le permitimos el tráfico http y https para que nos añada los puertos de seguridad directamente
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#despues-de-esto-le-asignamos-una-ip-publica-o-ip-elastica-y-empezamos-con-los-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Después de esto le asignamos una ip pública o ip elástica y empezamos con los scripts.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tenemos-tres-scripts-que-vamos-a-copiar-de-la-practica-uno-es-script-del-install_lamp-el-de-configuracion-y-el-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      Tenemos tres scripts que vamos a copiar de la práctica uno: es script del install_lamp, el de configuracion y el de php.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-script-del-lamp-es-este-paso-por-paso" class="md-nav__link">
    <span class="md-ellipsis">
      El script del lamp es este paso por paso :
    </span>
  </a>
  
    <nav class="md-nav" aria-label="El script del lamp es este paso por paso :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#muestra-todos-los-comandos-que-se-van-ejecutando" class="md-nav__link">
    <span class="md-ellipsis">
      Muestra todos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-los-repositorios" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-los-paquetes" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalamos-el-servidor-web-apache" class="md-nav__link">
    <span class="md-ellipsis">
      instalamos el servidor web Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalamos-e-sistema-gestor-de-base-de-datos-de-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Instalamos e sistema gestor de base de datos de mysql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-u-db_user-p-dp_passwd-sqldatabasesql" class="md-nav__link">
    <span class="md-ellipsis">
      mysql -u $DB_USER -p $DP_PASSWD &lt; .../sql/database.sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalamos-php" class="md-nav__link">
    <span class="md-ellipsis">
      Instalamos  PHP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copiar-el-archivo-de-configuracion-de-apache" class="md-nav__link">
    <span class="md-ellipsis">
      Copiar el archivo de configuración de Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reiniciamos-el-servicio-apache" class="md-nav__link">
    <span class="md-ellipsis">
      Reiniciamos el servicio Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copiamos-el-archivo-de-prueba-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      Copiamos el archivo de prueba de php
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificamos-el-propietario-y-el-grupo-del-directorio-varwwwhtml" class="md-nav__link">
    <span class="md-ellipsis">
      Modificamos el propietario y el grupo del directorio /var/www/html
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-archivo-de-cofiguracion-000-default-conf-es-este" class="md-nav__link">
    <span class="md-ellipsis">
      El archivo de cofiguracion 000-default-conf es este:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-archivo-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      El archivo de php
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#despues-tenemos-nuestro-archivo-env-para-guardar-nuestras-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Después tenemos nuestro archivo .env para guardar nuestras variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#y-el-ultimo-es-el-script-del-deploysh-que-paso-por-paso-hace-esto" class="md-nav__link">
    <span class="md-ellipsis">
      Y el ultimo es el script del deploy.sh que paso por paso hace esto:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Y el ultimo es el script del deploy.sh que paso por paso hace esto:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#muestra-todos-los-comandos-que-se-van-ejecutando_1" class="md-nav__link">
    <span class="md-ellipsis">
      Muestra todos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importamos-las-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Importamos las variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-los-repositorios_1" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-todos-los-paquetes" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos todos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminamos-descargas-previas-del-repositorio" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminamos descargas previas del repositorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clonamos-el-repositorio-con-el-codigo-fuente-de-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      Clonamos el repositorio con el codigo fuente de la aplicacion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movemos-el-codigo-fuente-de-la-aplicaciona-varwwwhtml" class="md-nav__link">
    <span class="md-ellipsis">
      Movemos el codigo fuente de la aplicaciona /var/www/html
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuramos-el-archivo-sql-para-que-no-de-error-al-poner-una-base-de-datos-distinata-a-lamp_db" class="md-nav__link">
    <span class="md-ellipsis">
      Configuramos el archivo sql para que no de error al poner una base de datos distinata a lamp_db
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuramos-el-archivo-configphp-de-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      Configuramos el archivo config.php de la aplicación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importamos-el-script-de-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Importamos el script de base de datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creamos-el-usuariob-de-la-base-de-datos-y-le-asignamos-privilegios" class="md-nav__link">
    <span class="md-ellipsis">
      Creamos el usuariob de la base de datos y le asignamos privilegios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#y-al-ejecutar-el-script-y-menternos-en-el-navegador-en-la-ip-elastica-nos-saldria-la-aplicacion-en-la-que-podemos-meter-las-bases-de-datos-que-queramos" class="md-nav__link">
    <span class="md-ellipsis">
      Y al ejecutar el script y menternos en el navegador en la ip elástica nos saldría la aplicación en la que podemos meter las bases de datos que queramos.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asi-se-veria-la-pagina-web" class="md-nav__link">
    <span class="md-ellipsis">
      Así se vería la página web
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadimos-una-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Añadimos una base de datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#y-nos-saldria-en-la-pagina" class="md-nav__link">
    <span class="md-ellipsis">
      Y nos saldría en la página.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#para-esta-practica-vamos-a-crear-una-instancia-de-ubuntu-pulsamos-en-lanzar-instancia-y-seleccionamos-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Para esta práctica vamos a crear una instancia de ubuntu, pulsamos en lanzar instancia y seleccionamos ubuntu
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-ponemos-de-tamano-small-la-maquina" class="md-nav__link">
    <span class="md-ellipsis">
      Le ponemos de tamaño small la máquina.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-permitimos-el-trafico-http-y-https-para-que-nos-anada-los-puertos-de-seguridad-directamente" class="md-nav__link">
    <span class="md-ellipsis">
      Le permitimos el tráfico http y https para que nos añada los puertos de seguridad directamente
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#despues-de-esto-le-asignamos-una-ip-publica-o-ip-elastica-y-empezamos-con-los-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Después de esto le asignamos una ip pública o ip elástica y empezamos con los scripts.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tenemos-tres-scripts-que-vamos-a-copiar-de-la-practica-uno-es-script-del-install_lamp-el-de-configuracion-y-el-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      Tenemos tres scripts que vamos a copiar de la práctica uno: es script del install_lamp, el de configuracion y el de php.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-script-del-lamp-es-este-paso-por-paso" class="md-nav__link">
    <span class="md-ellipsis">
      El script del lamp es este paso por paso :
    </span>
  </a>
  
    <nav class="md-nav" aria-label="El script del lamp es este paso por paso :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#muestra-todos-los-comandos-que-se-van-ejecutando" class="md-nav__link">
    <span class="md-ellipsis">
      Muestra todos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-los-repositorios" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-los-paquetes" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalamos-el-servidor-web-apache" class="md-nav__link">
    <span class="md-ellipsis">
      instalamos el servidor web Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalamos-e-sistema-gestor-de-base-de-datos-de-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Instalamos e sistema gestor de base de datos de mysql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-u-db_user-p-dp_passwd-sqldatabasesql" class="md-nav__link">
    <span class="md-ellipsis">
      mysql -u $DB_USER -p $DP_PASSWD &lt; .../sql/database.sql
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalamos-php" class="md-nav__link">
    <span class="md-ellipsis">
      Instalamos  PHP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copiar-el-archivo-de-configuracion-de-apache" class="md-nav__link">
    <span class="md-ellipsis">
      Copiar el archivo de configuración de Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reiniciamos-el-servicio-apache" class="md-nav__link">
    <span class="md-ellipsis">
      Reiniciamos el servicio Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copiamos-el-archivo-de-prueba-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      Copiamos el archivo de prueba de php
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificamos-el-propietario-y-el-grupo-del-directorio-varwwwhtml" class="md-nav__link">
    <span class="md-ellipsis">
      Modificamos el propietario y el grupo del directorio /var/www/html
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-archivo-de-cofiguracion-000-default-conf-es-este" class="md-nav__link">
    <span class="md-ellipsis">
      El archivo de cofiguracion 000-default-conf es este:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-archivo-de-php" class="md-nav__link">
    <span class="md-ellipsis">
      El archivo de php
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#despues-tenemos-nuestro-archivo-env-para-guardar-nuestras-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Después tenemos nuestro archivo .env para guardar nuestras variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#y-el-ultimo-es-el-script-del-deploysh-que-paso-por-paso-hace-esto" class="md-nav__link">
    <span class="md-ellipsis">
      Y el ultimo es el script del deploy.sh que paso por paso hace esto:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Y el ultimo es el script del deploy.sh que paso por paso hace esto:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#muestra-todos-los-comandos-que-se-van-ejecutando_1" class="md-nav__link">
    <span class="md-ellipsis">
      Muestra todos los comandos que se van ejecutando
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importamos-las-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Importamos las variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-los-repositorios_1" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos los repositorios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizamos-todos-los-paquetes" class="md-nav__link">
    <span class="md-ellipsis">
      Actualizamos todos los paquetes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminamos-descargas-previas-del-repositorio" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminamos descargas previas del repositorio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clonamos-el-repositorio-con-el-codigo-fuente-de-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      Clonamos el repositorio con el codigo fuente de la aplicacion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#movemos-el-codigo-fuente-de-la-aplicaciona-varwwwhtml" class="md-nav__link">
    <span class="md-ellipsis">
      Movemos el codigo fuente de la aplicaciona /var/www/html
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuramos-el-archivo-sql-para-que-no-de-error-al-poner-una-base-de-datos-distinata-a-lamp_db" class="md-nav__link">
    <span class="md-ellipsis">
      Configuramos el archivo sql para que no de error al poner una base de datos distinata a lamp_db
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuramos-el-archivo-configphp-de-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      Configuramos el archivo config.php de la aplicación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importamos-el-script-de-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Importamos el script de base de datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creamos-el-usuariob-de-la-base-de-datos-y-le-asignamos-privilegios" class="md-nav__link">
    <span class="md-ellipsis">
      Creamos el usuariob de la base de datos y le asignamos privilegios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#y-al-ejecutar-el-script-y-menternos-en-el-navegador-en-la-ip-elastica-nos-saldria-la-aplicacion-en-la-que-podemos-meter-las-bases-de-datos-que-queramos" class="md-nav__link">
    <span class="md-ellipsis">
      Y al ejecutar el script y menternos en el navegador en la ip elástica nos saldría la aplicación en la que podemos meter las bases de datos que queramos.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asi-se-veria-la-pagina-web" class="md-nav__link">
    <span class="md-ellipsis">
      Así se vería la página web
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anadimos-una-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Añadimos una base de datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#y-nos-saldria-en-la-pagina" class="md-nav__link">
    <span class="md-ellipsis">
      Y nos saldría en la página.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="practica-03-iaw">Practica-03-IAW</h1>
<h3 id="para-esta-practica-vamos-a-crear-una-instancia-de-ubuntu-pulsamos-en-lanzar-instancia-y-seleccionamos-ubuntu">Para esta práctica vamos a crear una instancia de ubuntu, pulsamos en lanzar instancia y seleccionamos ubuntu</h3>
<p><img alt="cap 1 p3" src="https://github.com/JoseFco04/practica-03-IAW/assets/145347148/37b6124d-4994-4a13-b8d9-1ba57372f835" /></p>
<h3 id="le-ponemos-de-tamano-small-la-maquina">Le ponemos de tamaño small la máquina.</h3>
<p><img alt="cap 2 p3" src="https://github.com/JoseFco04/practica-03-IAW/assets/145347148/41e28934-8db1-495c-b49a-b377cfeec1bc" /></p>
<h3 id="le-permitimos-el-trafico-http-y-https-para-que-nos-anada-los-puertos-de-seguridad-directamente">Le permitimos el tráfico http y https para que nos añada los puertos de seguridad directamente</h3>
<p><img alt="cap 3 p3" src="https://github.com/JoseFco04/practica-03-IAW/assets/145347148/17ae3a20-aa69-4628-b792-f101c0fc4a08" /></p>
<h3 id="despues-de-esto-le-asignamos-una-ip-publica-o-ip-elastica-y-empezamos-con-los-scripts">Después de esto le asignamos una ip pública o ip elástica y empezamos con los scripts.</h3>
<h3 id="tenemos-tres-scripts-que-vamos-a-copiar-de-la-practica-uno-es-script-del-install_lamp-el-de-configuracion-y-el-de-php">Tenemos tres scripts que vamos a copiar de la práctica uno: es script del install_lamp, el de configuracion y el de php.</h3>
<h3 id="el-script-del-lamp-es-este-paso-por-paso">El script del lamp es este paso por paso :</h3>
<h4 id="muestra-todos-los-comandos-que-se-van-ejecutando">Muestra todos los comandos que se van ejecutando</h4>
<pre><code>set -x
</code></pre>
<h4 id="actualizamos-los-repositorios">Actualizamos los repositorios</h4>
<pre><code>apt update
</code></pre>
<h4 id="actualizamos-los-paquetes">Actualizamos los paquetes</h4>
<pre><code>#### apt upgrade -y
</code></pre>
<h4 id="instalamos-el-servidor-web-apache">instalamos el servidor web Apache</h4>
<pre><code>apt install apache2 -y
</code></pre>
<h4 id="instalamos-e-sistema-gestor-de-base-de-datos-de-mysql">Instalamos e sistema gestor de base de datos de mysql</h4>
<pre><code>apt install mysql-server -y
</code></pre>
<h4 id="mysql-u-db_user-p-dp_passwd-sqldatabasesql">mysql -u $DB_USER -p $DP_PASSWD &lt; .../sql/database.sql</h4>
<h4 id="instalamos-php">Instalamos  PHP</h4>
<pre><code>apt install php libapache2-mod-php php-mysql -y
</code></pre>
<h4 id="copiar-el-archivo-de-configuracion-de-apache">Copiar el archivo de configuración de Apache</h4>
<pre><code>cp ../conf/000-default.conf /etc/apache2/sites-available
</code></pre>
<h4 id="reiniciamos-el-servicio-apache">Reiniciamos el servicio Apache</h4>
<pre><code>systemctl restart apache2
</code></pre>
<h4 id="copiamos-el-archivo-de-prueba-de-php">Copiamos el archivo de prueba de php</h4>
<pre><code>cp ../php/index.php /var/www/html
</code></pre>
<h4 id="modificamos-el-propietario-y-el-grupo-del-directorio-varwwwhtml">Modificamos el propietario y el grupo del directorio /var/www/html</h4>
<pre><code>chown -R www-data:www-data /var/www/html
</code></pre>
<h3 id="el-archivo-de-cofiguracion-000-default-conf-es-este">El archivo de cofiguracion 000-default-conf es este:</h3>
<pre><code>ServerSignature Off
ServerTokens Prod

&lt;VirtualHost *:80&gt;
#ServerName www.example.com
DocumentRoot /var/www/html

  DirectoryIndex index.php index.html

  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;
</code></pre>
<h3 id="el-archivo-de-php">El archivo de php</h3>
<pre><code>&lt;?php

phpinfo();

?&gt;
</code></pre>
<h3 id="despues-tenemos-nuestro-archivo-env-para-guardar-nuestras-variables">Después tenemos nuestro archivo .env para guardar nuestras variables</h3>
<pre><code># Configuramos las variables
#-------------------------------------------
DB_NAME=aplicacion
DB_USER=usuario
DB_PASSWORD=password
</code></pre>
<h3 id="y-el-ultimo-es-el-script-del-deploysh-que-paso-por-paso-hace-esto">Y el ultimo es el script del deploy.sh que paso por paso hace esto:</h3>
<h4 id="muestra-todos-los-comandos-que-se-van-ejecutando_1">Muestra todos los comandos que se van ejecutando</h4>
<pre><code>set -x
</code></pre>
<h4 id="importamos-las-variables">Importamos las variables</h4>
<pre><code>source .env 
</code></pre>
<h4 id="actualizamos-los-repositorios_1">Actualizamos los repositorios</h4>
<pre><code>apt  update 
</code></pre>
<h4 id="actualizamos-todos-los-paquetes">Actualizamos todos los paquetes</h4>
<pre><code>#apt upgrade -y 
</code></pre>
<h4 id="eliminamos-descargas-previas-del-repositorio">Eliminamos descargas previas del repositorio</h4>
<pre><code>rm -rf /tmp/iaw-practica-lamp
</code></pre>
<h4 id="clonamos-el-repositorio-con-el-codigo-fuente-de-la-aplicacion">Clonamos el repositorio con el codigo fuente de la aplicacion</h4>
<pre><code>git clone https://github.com/josejuansanchez/iaw-practica-lamp /tmp/iaw-practica-lamp
</code></pre>
<h4 id="movemos-el-codigo-fuente-de-la-aplicaciona-varwwwhtml">Movemos el codigo fuente de la aplicaciona /var/www/html</h4>
<pre><code>mv /tmp/iaw-practica-lamp/src/* /var/www/html
</code></pre>
<h4 id="configuramos-el-archivo-sql-para-que-no-de-error-al-poner-una-base-de-datos-distinata-a-lamp_db">Configuramos el archivo sql para que no de error al poner una base de datos distinata a lamp_db</h4>
<pre><code>sed -i &quot;s/lamp_db/$DB_NAME/g&quot; /tmp/iaw-practica-lamp/db/database.sql
</code></pre>
<h4 id="configuramos-el-archivo-configphp-de-la-aplicacion">Configuramos el archivo config.php de la aplicación</h4>
<pre><code>sed -i &quot;s/database_name_here/$DB_NAME/&quot; /var/www/html/config.php
sed -i &quot;s/username_here/$DB_USER/&quot; /var/www/html/config.php
sed -i &quot;s/password_here/$DB_PASSWORD/&quot; /var/www/html/config.php
</code></pre>
<h4 id="importamos-el-script-de-base-de-datos">Importamos el script de base de datos</h4>
<pre><code>mysql -u root &lt; /tmp/iaw-practica-lamp/db/database.sql
</code></pre>
<h4 id="creamos-el-usuariob-de-la-base-de-datos-y-le-asignamos-privilegios">Creamos el usuariob de la base de datos y le asignamos privilegios</h4>
<pre><code>mysql -u root &lt;&lt;&lt; &quot;DROP USER IF EXISTS $DB_USER@'%'&quot;
mysql -u root &lt;&lt;&lt; &quot;CREATE USER $DB_USER@'%' IDENTIFIED BY '$DB_PASSWORD'&quot;
mysql -u root &lt;&lt;&lt; &quot;GRANT ALL PRIVILEGES ON $DB_NAME.* TO $DB_USER@'%'&quot;
</code></pre>
<h4 id="y-al-ejecutar-el-script-y-menternos-en-el-navegador-en-la-ip-elastica-nos-saldria-la-aplicacion-en-la-que-podemos-meter-las-bases-de-datos-que-queramos">Y al ejecutar el script y menternos en el navegador en la ip elástica nos saldría la aplicación en la que podemos meter las bases de datos que queramos.</h4>
<h4 id="asi-se-veria-la-pagina-web">Así se vería la página web</h4>
<p><img alt="cap p32" src="https://github.com/JoseFco04/practica-03-IAW/assets/145347148/a3729289-5188-4a4b-847c-5becd1898216" /></p>
<h4 id="anadimos-una-base-de-datos">Añadimos una base de datos</h4>
<p><img alt="cap p322" src="https://github.com/JoseFco04/practica-03-IAW/assets/145347148/c7f97637-8cff-44a6-bb25-eac944111c35" /></p>
<h4 id="y-nos-saldria-en-la-pagina">Y nos saldría en la página.</h4>
<p><img alt="cap p323" src="https://github.com/JoseFco04/practica-03-IAW/assets/145347148/2fcfd9c3-e57e-4477-9007-35397fa07416" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>